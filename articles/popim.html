<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>popim â€¢ popim</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="popim">
<meta property="og:description" content="popim">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">popim</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/popim.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>popim</h1>
            
      
      
      <div class="hidden name"><code>popim.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">popim</span><span class="op">)</span></span></code></pre></div>
<p>The intention of the package <code>popim</code> is to provide tools
to easily evaluate and track the POPulation IMmunity of an
age-structured population that results from vaccination. Given that
vaccination has long lasting effects, this requires tracking the status
of the population through time.</p>
<div class="section level2">
<h2 id="data-structures">Data structures<a class="anchor" aria-label="anchor" href="#data-structures"></a>
</h2>
<p>To this end the package defines two S3 classes to store data in an
appropriate format. Both classes are dataframes, but have additional
requirements such as certain columns that must be present, and the
format and range of these columns.</p>
<div class="section level3">
<h3 id="s3-class-popim_population">S3 class <code>popim_population</code><a class="anchor" aria-label="anchor" href="#s3-class-popim_population"></a>
</h3>
<p>The class <code>popim_population</code> is designed to hold
information on a population of interest.</p>
<div class="section level4">
<h4 id="the-dataframe">The dataframe<a class="anchor" aria-label="anchor" href="#the-dataframe"></a>
</h4>
<p>The dataframe holds information on the population size and immunity
status of the population through time. The population is disaggregated
into 1-year age groups, and potentially several spatial regions. Each
row refers to a particular (1 year) birth cohort in a given location and
year.</p>
<p>The mandatory columns are:</p>
<ul>
<li>
<code>region</code>: The population of interest may be spatially
disaggregated into separate geographical regions (e.g., countries or
subnational administrative regions). This column holds a string that
identifies which region each entry refers to.</li>
<li>
<code>year</code>: The population is tracked through time using
annual time steps.</li>
<li>
<code>age</code>: The age-structure of the population is tracked in
annual age groups.</li>
<li>
<code>cohort</code>: This column is redundant as it equals
<code>year</code> - <code>age</code>, and therefore refers to the year
in which this cohort was born. It is included for ease of handling.</li>
<li>
<code>immunity</code>: Gives the proportion of each cohort that is
immune due to past vaccination.</li>
<li>
<code>pop_size</code>: Number of people in any given age group and
year. To facilitate using common units such as thousands this is not
limited to integer values. It is however up to the user to ensure that
such units are used consistently.</li>
</ul>
<table class="table">
<thead><tr class="header">
<th>column</th>
<th>type</th>
<th>range</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>region</code></td>
<td>character</td>
<td></td>
</tr>
<tr class="even">
<td><code>year</code></td>
<td>integer</td>
<td></td>
</tr>
<tr class="odd">
<td><code>age</code></td>
<td>integer</td>
<td>non-negative</td>
</tr>
<tr class="even">
<td><code>cohort</code></td>
<td>integer</td>
<td>
<code>year</code> - <code>age</code>
</td>
</tr>
<tr class="odd">
<td><code>immunity</code></td>
<td>numeric</td>
<td>[0, 1]</td>
</tr>
<tr class="even">
<td><code>pop_size</code></td>
<td>numeric</td>
<td>non-negative</td>
</tr>
</tbody>
</table>
</div>
<div class="section level4">
<h4 id="class-attributes">Class attributes<a class="anchor" aria-label="anchor" href="#class-attributes"></a>
</h4>
<p>In addition to the attributes that every dataframe has
(<code>names</code>, <code>class</code>, <code>row.names</code>), the
objects of the <code>popim_population</code> class also retain the input
parameters of the basic constructer <code><a href="../reference/popim_population.html">popim_population()</a></code>:</p>
<ul>
<li>
<code>region</code>: a character vector of all regions in this
object,</li>
<li>
<code>year_min</code> and <code>year_max</code>: the range of years,
and</li>
<li>
<code>age_min</code> and <code>age_max</code>: the age range covered
in this population.</li>
</ul>
</div>
<div class="section level4">
<h4 id="create-modify-and-validate-objects-of-this-class">Create, modify and validate objects of this class<a class="anchor" aria-label="anchor" href="#create-modify-and-validate-objects-of-this-class"></a>
</h4>
<p>create: [popim_population()], [<code><a href="../reference/read_popim_pop.html">read_popim_pop()</a></code>],
<code><a href="../reference/as_popim_pop.html">as_popim_pop()</a></code></p>
<p>modify: [apply_vacc()]</p>
<p>validate: [is_population()]</p>
</div>
</div>
<div class="section level3">
<h3 id="s3-class-popim_vacc_activities">S3 class <code>popim_vacc_activities</code><a class="anchor" aria-label="anchor" href="#s3-class-popim_vacc_activities"></a>
</h3>
<p>The class <code>popim_vacc_activities</code> is designed to hold
information on vaccination activities that have occurred or are planned
in the population of interest. Each row of the dataframe relates to one
vaccination activity.</p>
<div class="section level4">
<h4 id="the-dataframe-1">The dataframe<a class="anchor" aria-label="anchor" href="#the-dataframe-1"></a>
</h4>
<p>The mandatory columns are:</p>
<ul>
<li>
<code>region</code>: The region in which the vaccination activity
takes place. While this is a free character field, when applied to a
population, this must match a region that occurs in the population.</li>
<li>
<code>year</code>: year during which the vaccination activity takes
place.</li>
<li>
<code>age_first</code>: youngest age group to be targeted.</li>
<li>
<code>age_last</code>: oldest age group to be targeted.</li>
<li>
<code>coverage</code>: proportion of the target population to be
immunised.</li>
<li>
<code>doses</code>: number of doses used in the vaccination
activity.</li>
<li>
<code>targeting</code>: determines how doses are allocated when
there is pre-existing immunity in the population.</li>
</ul>
<p><em>to do: details of coverage/doses, include assumptions of
non-waning, 100% effectiveness, no wastage.</em></p>
<p><em>to do: explain targeting.</em></p>
<table class="table">
<thead><tr class="header">
<th>column</th>
<th>type</th>
<th>range</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>region</code></td>
<td>character</td>
<td></td>
</tr>
<tr class="even">
<td><code>year</code></td>
<td>integer</td>
<td></td>
</tr>
<tr class="odd">
<td><code>age_first</code></td>
<td>integer</td>
<td>non-negative</td>
</tr>
<tr class="even">
<td><code>age_last</code></td>
<td>integer</td>
<td>
<span class="math inline">\(\ge\)</span> <code>age_first</code>
</td>
</tr>
<tr class="odd">
<td><code>coverage</code></td>
<td>numeric</td>
<td>[0, 1]</td>
</tr>
<tr class="even">
<td><code>doses</code></td>
<td>numeric</td>
<td>non-negative</td>
</tr>
<tr class="odd">
<td><code>targeting</code></td>
<td>character</td>
<td>
<code>"random"</code>, <code>"correlated"</code>,
<code>"targeted"</code>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section level4">
<h4 id="class-attributes-1">Class attributes<a class="anchor" aria-label="anchor" href="#class-attributes-1"></a>
</h4>
<p>As this is a subclass of dataframe, it has the same attributes as a
dataframe (<code>names</code>, <code>class</code> and
<code>row_names</code>), and no additional attributes.</p>
</div>
<div class="section level4">
<h4 id="create-and-validate-objects-of-this-class">Create and validate objects of this class<a class="anchor" aria-label="anchor" href="#create-and-validate-objects-of-this-class"></a>
</h4>
<p>create: [popim_vacc_activities()], [read_vacc_activities()],
[as_vacc_activities()], [vacc_from_immunity()]</p>
<p>modify: [complete_vacc_activities()]</p>
<p>validate: [is_vacc_activities()]</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Tini Garske.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
